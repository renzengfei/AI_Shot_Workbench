# AI Shot Workbench

> **æœ¬åœ°è§†é¢‘åˆ†é•œå¤´ç¼–è¾‘å·¥å…·** - é›†æˆ AI åœºæ™¯æ£€æµ‹ã€æ—¶é—´è½´ç¼–è¾‘ã€YouTube ä¸‹è½½å’Œé¡¹ç›®ç®¡ç†

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ä½¿ç”¨æŒ‡å—](#-ä½¿ç”¨æŒ‡å—)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¬ è§†é¢‘å¯¼å…¥ (3 ç§æ–¹å¼)
- **æœ¬åœ°æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒ MP4, MOV, AVI ç­‰ä¸»æµæ ¼å¼
- **YouTube é“¾æ¥**: ç›´æ¥ç²˜è´´ URL è‡ªåŠ¨ä¸‹è½½è§†é¢‘
- **é¡¹ç›®å¯¼å…¥**: åŠ è½½ä¹‹å‰å¯¼å‡ºçš„ JSON é¡¹ç›®æ–‡ä»¶

### âœ‚ï¸ æ™ºèƒ½å‰ªè¾‘
- **AI åœºæ™¯æ£€æµ‹**: ä½¿ç”¨ PySceneDetect è‡ªåŠ¨è¯†åˆ«åœºæ™¯å˜åŒ–
- **æ‰‹åŠ¨ç¼–è¾‘**: æ·»åŠ /åˆ é™¤åˆ‡ç‚¹ï¼Œç²¾ç¡®æ§åˆ¶åˆ†é•œ
- **éšè—é•œå¤´**: æ ‡è®°ä¸éœ€è¦çš„ç‰‡æ®µï¼Œå¯¼å‡ºæ—¶è‡ªåŠ¨è¿‡æ»¤

### ğŸ® ä¸“ä¸šæ§åˆ¶
- **æ’­æ”¾æ§åˆ¶**: æ’­æ”¾/æš‚åœã€å˜é€Ÿæ’­æ”¾ (0.25x - 1x)
- **é€å¸§å¯¼èˆª**: ç²¾ç¡®åˆ° 1/30 ç§’çš„å¸§çº§æ§åˆ¶
- **é”®ç›˜å¿«æ·é”®**: é«˜æ•ˆçš„å¿«æ·é”®æ“ä½œ

### ğŸ“¦ é¡¹ç›®ç®¡ç†
- **å®Œæ•´å¯¼å‡º**: Markdown æŠ¥å‘Š + é¦–å¸§å›¾ + è§†é¢‘ç‰‡æ®µ
- **å“ˆå¸ŒéªŒè¯**: SHA-1 æ–‡ä»¶å®Œæ•´æ€§æ ¡éªŒ
- **çŠ¶æ€ä¿å­˜**: å®Œæ•´ä¿å­˜æ‰€æœ‰ç¼–è¾‘çŠ¶æ€

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Python 3.8+**
- **Node.js 16+**
- **FFmpeg** (è§†é¢‘å¤„ç†)

```bash
# å®‰è£… FFmpeg (macOS)
brew install ffmpeg
```

### å®‰è£…æ­¥éª¤

#### 1. åç«¯è®¾ç½®

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv .venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source .venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

#### 2. å‰ç«¯è®¾ç½®

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install
```

### å¯åŠ¨æœåŠ¡

**æ–¹å¼ 1: ä½¿ç”¨ä¸¤ä¸ªç»ˆç«¯**

```bash
# Terminal 1 - åç«¯
cd backend
source .venv/bin/activate
uvicorn main:app --reload --port 8000

# Terminal 2 - å‰ç«¯
cd frontend
npm run dev
```

**æ–¹å¼ 2: ä¸€é”®å¯åŠ¨ (æ¨è)**

è¯¦è§ [STARTUP.md](STARTUP.md)

### è®¿é—®åº”ç”¨

- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **API æ–‡æ¡£**: http://localhost:8000/docs

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1ï¸âƒ£ ä¸Šä¼ è§†é¢‘

**æœ¬åœ°æ–‡ä»¶:**
1. ç‚¹å‡» "ä¸Šä¼ è§†é¢‘" æŒ‰é’®
2. é€‰æ‹©è§†é¢‘æ–‡ä»¶
3. ç­‰å¾… AI è‡ªåŠ¨åˆ†æåœºæ™¯

**YouTube è§†é¢‘:**
1. å¤åˆ¶ YouTube è§†é¢‘é“¾æ¥
2. ç²˜è´´åˆ°è¾“å…¥æ¡†ä¸­
3. ç‚¹å‡» "ä» YouTube ä¸‹è½½"

### 2ï¸âƒ£ ç¼–è¾‘æ—¶é—´è½´

**æ·»åŠ åˆ‡ç‚¹:**
- æ’­æ”¾åˆ°ç›®æ ‡ä½ç½®
- æŒ‰ `A` é”®æˆ–ç‚¹å‡» "æ·»åŠ åˆ‡ç‚¹" æŒ‰é’®

**åˆ é™¤åˆ‡ç‚¹:**
- ç‚¹å‡»é€‰ä¸­åˆ‡ç‚¹ (é»„è‰²é«˜äº®)
- æŒ‰ `D` é”®æˆ–ç‚¹å‡» "åˆ é™¤åˆ‡ç‚¹" æŒ‰é’®

**éšè—é•œå¤´:**
- é€‰ä¸­åˆ‡ç‚¹
- ç‚¹å‡» "éšè—é•œå¤´" æŒ‰é’®
- ç°è‰²åŒºåŸŸè¡¨ç¤ºå·²éšè—

### 3ï¸âƒ£ å¯¼å‡ºé¡¹ç›®

1. ç‚¹å‡» "å¯¼å‡ºåˆ†é•œæŠ¥å‘Š" æŒ‰é’®
2. æŸ¥çœ‹ `backend/outputs/[é¡¹ç›®å]/` ç›®å½•
3. è·å–ä»¥ä¸‹æ–‡ä»¶:
   - `é¡¹ç›®æŠ¥å‘Š.md` - Markdown æ ¼å¼æŠ¥å‘Š
   - `é¡¹ç›®æ•°æ®.json` - å®Œæ•´é¡¹ç›®æ•°æ®
   - `images/` - æ¯ä¸ªé•œå¤´çš„é¦–å¸§å›¾
   - `videos/` - æ¯ä¸ªé•œå¤´çš„è§†é¢‘ç‰‡æ®µ

### 4ï¸âƒ£ å¯¼å…¥é¡¹ç›®

1. ç‚¹å‡» "å¯¼å…¥é¡¹ç›®" æŒ‰é’®
2. é€‰æ‹© `é¡¹ç›®æ•°æ®.json` æ–‡ä»¶
3. é€‰æ‹©åŸè§†é¢‘æ–‡ä»¶ (è¿›è¡Œå“ˆå¸ŒéªŒè¯)
4. æ‰€æœ‰ç¼–è¾‘çŠ¶æ€è‡ªåŠ¨æ¢å¤

---

## ğŸ¹ é”®ç›˜å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Space` | æ’­æ”¾/æš‚åœ |
| `â†` | åé€€ä¸€å¸§ (1/30 ç§’) |
| `â†’` | å‰è¿›ä¸€å¸§ (1/30 ç§’) |
| `A` | åœ¨å½“å‰ä½ç½®æ·»åŠ åˆ‡ç‚¹ |
| `D` | åˆ é™¤é€‰ä¸­çš„åˆ‡ç‚¹ |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI** - ç°ä»£ Python Web æ¡†æ¶
- **PySceneDetect** - AI åœºæ™¯æ£€æµ‹
- **FFmpeg** - è§†é¢‘å¤„ç†
- **yt-dlp** - YouTube è§†é¢‘ä¸‹è½½
- **Pydantic** - æ•°æ®éªŒè¯

### å‰ç«¯
- **Next.js 16** - React æ¡†æ¶ (Turbopack)
- **TypeScript** - ç±»å‹å®‰å…¨
- **Zustand** - çŠ¶æ€ç®¡ç†
- **TailwindCSS** - æ ·å¼æ¡†æ¶
- **Lucide React** - å›¾æ ‡åº“

---

## ğŸ“¡ API æ–‡æ¡£

### `POST /api/analyze`
ä¸Šä¼ æœ¬åœ°è§†é¢‘å¹¶åˆ†æåœºæ™¯

**è¯·æ±‚:** `multipart/form-data`
- `file`: è§†é¢‘æ–‡ä»¶

**å“åº”:**
```json
{
  "video_path": "/path/to/video.mp4",
  "duration": 120.5,
  "cuts": [
    {"time": 0.0, "type": "auto"},
    {"time": 5.234, "type": "auto"}
  ]
}
```

### `POST /api/download-youtube`
ä» YouTube ä¸‹è½½è§†é¢‘å¹¶åˆ†æ

**è¯·æ±‚:**
```json
{
  "url": "https://youtube.com/watch?v=..."
}
```

### `POST /api/export`
å¯¼å‡ºé¡¹ç›® (è¿‡æ»¤éšè—ç‰‡æ®µ)

**è¯·æ±‚:**
```json
{
  "video_path": "/path/to/video.mp4",
  "cuts": [...],
  "project_name": "my_project",
  "hidden_segments": [5.234]
}
```

### `POST /api/import`
å¯¼å…¥é¡¹ç›®å¹¶éªŒè¯å“ˆå¸Œ

**è¯·æ±‚:**
```json
{
  "json_path": "/path/to/é¡¹ç›®æ•°æ®.json",
  "video_path": "/path/to/video.mp4"
}
```

å®Œæ•´ API æ–‡æ¡£: http://localhost:8000/docs

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
AI_Shot_Workbench/
â”œâ”€â”€ backend/                    # FastAPI åç«¯
â”‚   â”œâ”€â”€ main.py                # API å…¥å£
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ scene_detector.py  # åœºæ™¯æ£€æµ‹
â”‚   â”‚   â”œâ”€â”€ exporter.py        # é¡¹ç›®å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ importer.py        # é¡¹ç›®å¯¼å…¥
â”‚   â”‚   â””â”€â”€ youtube_downloader.py # YouTube ä¸‹è½½
â”‚   â”œâ”€â”€ uploads/               # ä¸Šä¼ /ä¸‹è½½çš„è§†é¢‘
â”‚   â””â”€â”€ outputs/               # å¯¼å‡ºçš„é¡¹ç›®
â”‚
â”œâ”€â”€ frontend/                   # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx           # ä¸»ç•Œé¢
â”‚   â”‚   â””â”€â”€ timeline.css       # æ—¶é—´è½´æ ·å¼
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Timeline.tsx       # æ—¶é—´è½´ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ VideoPlayer.tsx    # è§†é¢‘æ’­æ”¾å™¨
â”‚   â”‚   â”œâ”€â”€ PlaybackControls.tsx # æ§åˆ¶æŒ‰é’®
â”‚   â”‚   â”œâ”€â”€ StatusBar.tsx      # çŠ¶æ€æ 
â”‚   â”‚   â””â”€â”€ FramePreview.tsx   # å¸§é¢„è§ˆ
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ stores/
â”‚       â”‚   â””â”€â”€ timelineStore.ts # Zustand çŠ¶æ€
â”‚       â””â”€â”€ utils/
â”‚           â””â”€â”€ formatTime.ts   # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ README.md                   # æœ¬æ–‡ä»¶
â”œâ”€â”€ STARTUP.md                  # å¯åŠ¨æŒ‡å—
â””â”€â”€ .gemini/                    # å¼€å‘æ–‡æ¡£
    â””â”€â”€ walkthrough.md          # å®Œæ•´æ¼”ç¤º
```

---

## â“ å¸¸è§é—®é¢˜

### Q: YouTube ä¸‹è½½å¤±è´¥ï¼Ÿ
**A:** æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œç¡®è®¤ `yt-dlp` å·²å®‰è£…:
```bash
pip install yt-dlp
```

### Q: FFmpeg æœªæ‰¾åˆ°ï¼Ÿ
**A:** å®‰è£… FFmpeg:
```bash
# macOS
brew install ffmpeg

# Ubuntu/Debian
sudo apt install ffmpeg
```

### Q: å‰ç«¯ç¼–è¯‘é”™è¯¯ï¼Ÿ
**A:** æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°å®‰è£…:
```bash
cd frontend
rm -rf .next node_modules
npm install
npm run dev
```

### Q: å¯¼å‡ºçš„è§†é¢‘æ— æ³•æ’­æ”¾ï¼Ÿ
**A:** æ£€æŸ¥:
1. FFmpeg å®‰è£…æ­£ç¡®
2. åŸè§†é¢‘æ ¼å¼æ˜¯å¦æ”¯æŒ
3. æƒé™é—®é¢˜ (`chmod 755 backend/outputs`)

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Request!

---

## ğŸ“ æ”¯æŒ

- **æ–‡æ¡£**: æŸ¥çœ‹ [walkthrough.md](.gemini/walkthrough.md)
- **å¯åŠ¨é—®é¢˜**: æŸ¥çœ‹ [STARTUP.md](STARTUP.md)
- **API**: http://localhost:8000/docs

---

**äº«å—è§†é¢‘ç¼–è¾‘çš„ä¹è¶£! ğŸ¬âœ¨**
